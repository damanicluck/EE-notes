\chapter{Charge Carriers and Doping}

\section{Introduction}
We start learning about resistors, capacitors, and inductors from earlier courses such as EECS 16A and 16B. With more components like transistors, diodes, and op-amps (which are all based on semiconductors), we are able to expand upon circuit design. We need to understand semiconductor physics in order to understand how these components operate.
\begin{center}
    \begin{tikzpicture}
        \node[draw, align=center] (text) {Semiconductor Physics};
        \draw[->, thick] (text) -- ++(0,-1) node[below] {Bipolar Transistors};
        \draw[->, thick] (text) -- ++(-3,-1) node[below] {Diodes};
        \draw[->, thick] (text) -- ++(3,-1) node[below] {MOS Transistors};
    \end{tikzpicture}
\end{center}

We can also redefine Ohm's Law which we know as ($V = IR$) as $J = \sigma \vb{E}$. We can also write resistance($R$) and conductance($G$) in terms of other variables
\begin{gline}
    \item $J$: current density, \unit{\ampere\per\meter\squared} (Amperes per meter squared)
    \item $\sigma$: conductivity, \unit{\siemens\per\meter} (Siemens per meter)
    \item $\vb{E}$: electric field, \unit{\volt\per\meter} (Volt per meter)
\end{gline}

$R = \frac{R}{I} = \rho \frac{l}{A}$ and $G = R^{-1} = \sigma \frac{A}{l}$
\begin{gline}
    \item \unit{\sigma}: conductivity
    \item \unit{\rho}: resistivity
\end{gline}

For collisions in gas, we focus on the idea that initial velocity and direction is lost/randomized after a few collisions. So, when we sum over the random velocities of the particles and average it, it comes out to zero. Average momentum gain is:
\[\bar{\mu} = \frac{\vb{E} q \tau}{M} = \mu \vb{E}, ~~~ \mu := \frac{q \tau}{M} = \frac{\bar{v}}{\vb{E}}\]
\begin{gline}
    \item $\mu$: mobility, \unit[per-mode=fraction]{\meter\squared\per\volt\per\second}
    \item $q$: electric charge, \qty{1.60e-19}{}, Coulombs = \unit{\ampere\per\second}
    \item $\tau$: mean free time
    \item $M$: mass
    \item $\bar{v}$: average velocity
\end{gline}

Different elements have a different number of outer shell electrons. For semiconductors like silicon, we can increase the temperature to increase its conductivity. Silicon atoms are arranged in a diamond structure and in general, the energy levels that an atom can occupy are discrete. The \textbf{valence band} electrons are at a lower energy state (bound to host atoms) while \textbf{conduction band} electrons are at a higher energy state and are "free" electrons. These electrons are free to move around the crystal and take part in conduction. 

\section{Conduction and Fermi Dirac Distribution}
Thermal energy is on average about $\sim$ \qty{26}{\eV} at room temperature How large the \textbf{band-gap}, the gap between the conduction and valence band, determines how conductive a material is:
\begin{itemize}
    \item Insulators: band gap $\sim$ \qty{15}{\eV}
    \begin{itemize}
        \item Glass, rubber, oil, plastic, diamond
    \end{itemize}
    \item Semiconductors: band gap $\sim$ \qty{1}{\eV}
    \begin{itemize}
        \item Silicon = \qty{1.12}{\eV}
    \end{itemize}
    \item Conductors: Not applicable due to overlapping conduction/valence bands
\end{itemize}
This band gap energy is the minumum energy required to break a covalent bond and generate an electron-hole pair.

Because electrons are a type of particle called a \textbf{fermion}, we can say that 
\[f(E) = \frac{1}{e^{\frac{E - E_F}{k_B T}} + 1}\]
\begin{gline}
    \item $f(E)$: occupational probability of a state energy $\epsilon$
    \item $E$: energy of the particle
    \item $E_F$: fermi energy, eV
    \item $k_B$: Boltzmann's constant, \qty{1.380649e-23}{\joule\per\kelvin}, 
    \qty{8.62e-5}{\eV\per\kelvin}
    \item $T$: temperature in Kelvin
\end{gline}

The graph below is a plot of the Fermi-Dirac Distribution at different temperatures. We can use this plot to find the probability of the concentration of electrons ad holes at certain temperatures.

\input{figs/ch01/fermi_dirac_graph.tex}

Ok so why is this graph significant. To repeat, we can relate the concentration of holes or electrons to the temperature of its surroundings. We see that for the plot for a high temperature, there is a greater probability of charge carriers having enough energy to cross into the conduction band.

\textbf{Thermal generation} occurs when sufficient thermal energy exist to break some covalent bonds, which results in a \textbf{free electron}. This free electron is now free to conduct electric current if an electric field is applied to the crystal. However, this leaves behind a net positive charge. \textbf{Holes} are positively charged carrers, which can also move around the crystal and are available to conduct electric current. As temperature increases, so do electron-hole pairs and the conductivity of the crystal. 

\textbf{Recombination} is the process of free electrons and  holes moving through the silicon crystal structure and electrons filling in some of the holes. The recombination rate is proportional to the number of free electrons and holes, which also determines the \textbf{thermal generation} rate.

At thermal equilibrium, $n = p = n_i$. We can alternatively express as
\[pn = n_i^2\]
\begin{gline}
    \item $n$: concentration of free electrons, \unit{\concentration}
    \item $p$: concentration of holes, \unit{\concentration}
    \item $n_i$: number of free electrons and holes in a unit volume (\unit{\concentration}) of intrinsic silicon at a given temperature
\end{gline}

We can also write $n_i$ as a function of temperature
\[n_i = BT^{3/2} e^{-E_G / 2kT}\]
\begin{gline}
    \item $B$: material-dependent parameter, $7.3 \times 10^{15} \text{cm}^{-3} \text{K}^{-3/2}$ for Silicon
    \item $T$: temperature in $K$
    \item $E_G$: bandgap energy, 1.12 eV for silicon
    \item $k$, Boltzmann's constant
\end{gline}

\section{Doping}
In a non-doped crystal like in the above texts, there will be equal concentrations of free electrons and holes from thermal generation. \textbf{Doping} is defined as introducing impurities inside a silicon crystal to adjust the carrier concentration. The following materials are commonly used:
\begin{pline}
    \item Group III elements: boron, aluminum, gallium $\rightarrow$ acceptors; increase holes
    \item Group IV elements: germanium and silicon
    \item Group V elements: phosphorus, arsenic, antimony $\rightarrow$ donors; increase free electrons
\end{pline}
Doping with donors $\rightarrow$ \textbf{n type}.

Doping with acceptors $\rightarrow$ \textbf{p type}

Sometimes we assume that the number of electrons we add is much greater than the original free electrons that pure silicon had ($10^{10}$ per cubic centimeter). This leads to the simplification that the number of free electrons in our silicon crystal is $N_D$, where $N_D$ is the number of donor atoms that we add per cubic centimeter.

\begin{Analysis}{Doping concentrations}{}
Suppose we dope silicon with phosphorus, an acceptor. This means that four electrons from its outer shell will form a covalent bond with silicon. This results in one free electron, meaning that each phosphorus atom donates one free electron to the silicon. No holes are generated during this process. Usually, the concentration of donor atoms, $N_D$, is much greater htan $n_i$, so 
    \[n_n \simeq N_D\]
\begin{gline}
    \item $n_n$: for $n$-type silicon, concentration of free electrons
    \item $p_n$: for $n$-type silicon, concentratation of holes
    \item $N_D$: donor doping concentration
    \item $N_A$: acceptor doping concentration
\end{gline}
$n_n$ is determined by doping concentration, and independent of temperature,  while $p_n$ is determined by:
    \begin{align*}
        p_n n_n &= n_i^2 \\
        p_n &\simeq \frac{n_i^2}{N_D}
    \end{align*}

An analysis with boron, an acceptor, will yield similar conclusions with a change in variables.

If the concentration of donors/acceptors is greater than the other by a factor of at least 100, then we can say that $n/p = N_D / N_A$, respectively.
\end{Analysis}

\section{Compensated Semiconductor Material}
We can dope a semiconductor with both acceptors and donors. A \textbf{compensated semiconductor material} has both acceptors and donors.

\textbf{N-type material}: $N_D > N_A$
\[n \approx N_D - N_A, ~~~~ p \approx \frac{n_i^2}{N_D - N_A}\]

\textbf{P-type material}: $N_D < N_A$
\[p \approx N_A - N_D, ~~~~ n \approx \frac{n_i^2}{N_A - N_D}\]

\section{Practice Problems}
    \begin{enumerate}
        \item Calculate the intrinsic carrier density $n_i$ for silicon at $T = 50$ K and $350$ K.
        \begin{Ans}
            \begin{align*}
                n_{i,1} &= BT^{3/2} e^{-E_G / 2kT} \\
                &= (\qty{7.3e15}{\concentration} \unit{\kelvin}^{-3/2})(\qty{50}{\kelvin})^{3/2} e^{\qty{-1.12}{\eV} / 2(\qty{8.62e-5}{\eV\per\kelvin}) (\qty{50}{\kelvin})} \\
                &= \qty{9.63217875e-39}{\concentration} / \\
                n_{i,2} &= (\qty{7.3e15}{\concentration} \unit{\kelvin}^{-3/2})(\qty{350}{\kelvin})^{3/2} e^{\qty{-1.12}{\eV} / 2(\qty{8.62e-5}{\eV\per\kelvin})(\qty{350}{\kelvin})} \\
                &= \qty{4.15216354e11}{\concentration}
            \end{align*}
        \end{Ans}

        \item Consider an $n$-type silicon for which the dopant concentration $N_D = 10^{17}$ \conc. Find the electron and hole concentrations at 350 K. Refer to previous example for the value of $n_i$ at $T = 350$ K.
        \begin{Ans}
            Since this is an $n$-type silicon, 
                \[n_n \simeq N_D = \qty{e17}{\concentration}\]
            From this we can find the concentration of minority holes as 
                \[p_n \simeq \frac{n_i^2}{N_D} = \frac{(\qty{4.15e11}{\concentration})^2}{\qty{e17}{\concentration}} = \qty{1.72e6}{\concentration}\]
        \end{Ans}

        \item Here is a 1 $\mu$m long Si bar doped with \qty{6e15}{\concentration} of As and \qty{6e15}{\concentration} at 300 K. Assume $n_i = \unit{concentratation}$. Answer the following questions (show the unit). Assume complete ionization. Use the given figure to find the mobility.
        \begin{figure}[H]
            \centering
            \includegraphics[scale=0.8]{figs/ch01/ans3.png}
        \end{figure}
        \begin{enumerate}
            \item Find the concentration of $n$ and $p$.
            \begin{Ans}
                Arsenic is a donor, meaning that it has 5 valence electrons in its outermost shell.
                \[n \approx \qty{6e15}{\concentration}- \qty{4e15}{\concentration} = \qty{2e15}{\concentration}\]
                \[p = \frac{n_i^2}{n} = \qty{5e4}{\concentration}\]
            \end{Ans}
            
            \item Calculate its resistivity.
            \begin{Ans}
                    \[\rho = \frac{1}{q(\mu_n n + \mu_p p)}\]
                Looking at the graph we see that at $N_A + N_D = 10^{16}$. $\mu_n \approx \qty{1200}{\mobility}$ and $\mu_p \approx$ \qty{330}{\mobility}. We can also simplify our equation above as 
                    \[\rho \approx \frac{1}{q \mu_n n} = \qty{2.6}{\Omega\per\centi\meter\squared}\]
            \end{Ans}

            \item Find the current density when 1 V is applied across the 1 $\mu$m length direction.
            \begin{Ans}
                \[J = \sigma E = \frac{E}{\rho} = \frac{1}{\qty{2.6e-4}{\centi\meter}} \approx \qty{3840}{\ampere\per\centi\meter\squared}\]
            \end{Ans}

            \item If we keep increasing the voltage, will the current keep increasing?
            \begin{Ans}
                No, due to velocity saturation.
            \end{Ans}
        \end{enumerate}
    \end{enumerate}
\section{Sources}
\begin{itemize}
    \item \href{https://www.youtube.com/watch?v=yQDfVJzEymI}{\textcolor{blue}{Razavi Electronics 1, Lec 1, Intro., Charge Carriers, Doping}}
    \item \href{https://file.notion.so/f/f/048d6522-202b-48d4-b5d9-bc005bd602e2/214bf1f0-292f-48d6-9016-737d9f5da155/ee105_reader_v3.pdf?id=237a4300-3dbe-47d1-888b-ffae90d8352b&table=block&spaceId=048d6522-202b-48d4-b5d9-bc005bd602e2&expirationTimestamp=1714435200000&signature=yx-H1qvZJIodPfazOpwXX0Ce2mWMG8skOHl45xoPxus&downloadName=ee105_reader_v3.pdf}{EE105 Reader}
    \item Sedra, Adel S., et al. Microelectronic Circuits. Oxford University Press, 2021
    \item \href{https://eng.libretexts.org/Bookshelves/Materials_Science/TLP_Library_II/22%3A_Introduction_to_Semiconductors/22.2%3A_The_FermiDirac_Distribution}{Engineering LibreTexts: The Fermi-Dirac Distribution}
    \item \href{https://tex.stackexchange.com/questions/251496/fermi-dirac-in-pgfplots-dimension-too-lage}{Fermi-dirac distribution graph}
    \item Q3 appeared as Q1 as EE105 HW6
\end{itemize}

